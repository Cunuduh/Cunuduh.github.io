const galleryData = {
  artwork: [
    {
      title: "Story Quilt",
      credit: "<i>The Lechon</i>, Glae Alejo (September 2024). Mixed media (oil pastel on paper, watercolour and ink on paper), HLSS.",
      flavour: "Filipino flavour",
      description: "I based my centre panel artwork on a memory of preparing and eating lechon in the Philippines back in December 2016. I helped prepare and cook the pig with my family for dinnerâ€”it was the tastiest lechon I ever ate. I chose this scene because it perfectly shows the pillars of my Filipino cultureâ€”family and food. Looking at the composition, I think I created something really strong. There's a complementary orange-blue colour scheme that makes the lechon stand out as the focal point, and the outer quilt pieces share these colours too. The movement and rhythm of my oil pastel strokes really emphasize the cooked pig, and I used the rule of thirds (sky at the top, lechon in the middle, ashes at the bottom) to strengthen the overall composition. When it came to the quilt pieces, we made them as a group rather than individually. This collaborative approach meant different people created each small patch, allowing for more variety in how each quilt turned out. If we'd made our own patches, we would have lost that sense of community that really highlights the culture and individuality of the centrepiece. Having others contribute to the quilt patches actually made my work stronger, adding more visual interest to the final piece.",
      image: "img/story_quilt.jpg",
      processGallery: [
        "img/story_quilt_process_1.jpg",
        "img/story_quilt_process_2.jpg",
      ]
    },
    {
      title: "Hero Portrait", 
      credit: "<i>dad</i>, Glae Alejo (October 2024). Graphite on paper, HLSS.",
      flavour: "Goo goo gaa gaa",
      description: "I chose to draw my dad as a baby for this portrait. He actually asked me to draw that specific picture of him, but I discovered deeper connections while working on it. When I held up a picture of me as a baby next to his photo, we looked almost identical (though my head was bigger). There's this interesting contrast between his somewhat rugged and worn-down appearance now (despite still looking 30) and his pure, innocent look as a toddler. Even our personalities create a contrastâ€”my dad is my role model for discipline and respect, perhaps the exact opposite traits of a toddler. I really think I captured his likeness well, especially that innocent, clueless gaze from the photo. I spent a lot of time getting the facial expression just right, and I paid careful attention to my blending technique with the paper blending stump to capture that smooth but still organic texture of baby skin. When I finally brought the drawing home, my dad was so proud of me! The face is definitely what I'm most proud ofâ€”I put so much time into refining the shading of features like the planes of the face and the position of the eyes, nose, and mouth. Looking back though, if I could improve anything, it would still be the face. I can see now that the proportions are slightly off, so I'd spend more time getting the facial landmarks perfect with better guidelines and deeper observation during the sketch phase. Overall, I'm happy with the whole piece, but the face really stands out to me in both good and not-so-good ways.",
      image: "img/hero_portrait.jpg",
      processGallery: [
        "img/hero_portrait_process_1.jpg",
        "img/hero_portrait_process_2.jpg",
        "img/hero_portrait_process_3.jpg",
        "img/hero_portrait_process_4.jpg",
      ]
    },
    {
      title: "Triptych",
      credit: "<i>Beyond the veil</i>, Glae Alejo (November 2024). Watercolour on paper, HLSS.",
      flavour: "My true feelings",
      description: "In my triptych, I created three pieces that represent different aspects of my condition. The person is meant to be me as I want to see myself: with long hair; eyes closed, but looking deeply and truly into the condition of the mind. For the place, I made a surreal, dreamlike fantasy version of 'outside', unclear and disconnected from the red theatre curtains, like I'm watching the play of my own life. The thing in my triptych is a round, ruby gem with a cross shape underneath, and an arm just out of reachâ€”the gem is meant to look like â™€, the Venus symbol and common female sex symbol. I arranged these pieces specifically as place, person, then thing, using red as a common motif throughout the curtain, hair, and ruby gem to represent passion and intense emotion. The brush strokes in the curtains and hair create movement that guides viewers' eyes toward the right, ending at the back of my head. This flow gets interruptedâ€”on purposeâ€”by an arm breaking through the cold, blue veil, reaching for that gem that represents my passion and identity. I'm actually really pleased with how my watercolour technique turned out. I was careful to use a good range of values and not overload the paper like I'd done before, and every stroke of colour was intentionalâ€”that's where my skill really shows. The one thing I'd change is how I conveyed my message about gender dysphoria. When I showed it to people, they didn't really get what it was about, and I don't want to have to explain it every time someone looks at my artwork. I'd probably go back to planning and use others' feedback to make the message clearer.",
      image: "img/triptych.jpg",
      processGallery: [
        "img/triptych_process_1.jpg",
        "img/triptych_process_2.jpg",
        "img/triptych_process_3.jpg",
        "img/triptych_process_4.jpg",
        "img/triptych_process_5.jpg",
      ]
    },
    {
      title: "Sound Amplifier",
      credit: "<i>The GOAT</i>, Glae Alejo (December 2024). Acrylic on clay, HLSS.",
      flavour: "The GOAT",
      description: "For my clay sound amplifier, I decided to make a goat. It felt right for the kind of music I listen to (alternative, indie, folk), and it's one of the animals I saw everywhere in the Philippines. To make it work as an amplifier, I had to modify one of the horns like a trumpet end: flared and hollow, connected to the hollow head that works like a guitar resonator to boost the volume. The phone fits in a slot at the back of the goat's head, under the hornsâ€”though you have to take off the phone case first. I chose a natural brown and white colour scheme to match the goats I saw in the Philippines. When painting, I used a dry brush technique with less paint to create a fur texture, making it look more realistic. I added darker shades in the shadows and lighter tints in the bright areas to bring out the goat's features, especially around the eye sockets and lower jaw. Between sculpting and painting, I definitely preferred the sculpting part. I don't get many chances to create truly 3D art outside of class, and I love the whole process of carving features, adding texture, and slip-and-scoring pieces together. Working with clay felt really personal and hands-on compared to 2D mediaâ€”there's just something different about getting your hands dirty with clay versus painting (unless I'm finger painting or smudging).",
      image: "img/sound_amplifier.jpg",
      processGallery: [
        "img/sound_amplifier_process_1.jpg",
        "img/sound_amplifier_process_2.jpg",
        "img/sound_amplifier_process_3.jpg",
        "img/sound_amplifier_process_4.jpg",
        "img/sound_amplifier_process_5.jpg",
      ]
    },
    {
      title: "Museum Mutant",
      credit: "<i>Emptiness</i>, Glae Alejo (January 2025). Acrylic on paper, HLSS.",
      flavour: "I probably need therapy",
      description: "For the Museum Mutant project, I went with option 2 and created a modernized version of 'The Brooch. Eva Mudocci' by Edvard Munch. I found this piece in an interesting wayâ€”while looking at the Wikipedia page for borderline personality disorder (BPD), I saw this beautiful artwork in the infobox. When I realized it was by the same person who created The Scream, I got really interested and started researching Munch and his struggles with mental health, including his possible BPD. The original piece has this focused, introspective, and melancholic feeling that really spoke to me, especially compared to his other works. I wanted to show aspects of Munch's mental health that I could relate to, particularly the intense emotional expression and feelings of emptiness that come with BPD. While the original uses Eva Mudocci's flowing hair to draw attention to her face, I changed this by adding ghost-like faces swirling in her hair, making everything more chaoticâ€”kind of like how people with BPD experience intense emotions. I also decided to add a white glaze over the subject's face, making her look almost faceless. This represents the chronic emptiness that people with BPD often feel, adding my own personal connection to Munch's work.",
      image: "img/museum_mutant.jpg",
      processGallery: [
        "img/museum_mutant_process_1.jpg",
        "img/museum_mutant_process_2.jpg",
        "img/museum_mutant_process_3.jpg",
        "img/museum_mutant_process_4.jpg",
      ]
    },
    {
      title: "Bowl",
      credit: "<i>Untitled</i>, Glae Alejo (December 2024). Acrylic on clay, HLSS.",
      flavour: "A bowl... with balls!?",
      description: "This is a bowl I made during the clay unit in class. It was winter, so I wanted to create a bowl with an icy, blue theme. In the middle of the bowl, there are two balls stacked on top of each other. I was going to add a third and create an upside-down snowman (because I'm quirky like that), but my teacher told me it would collapse in the kiln. When painting the bowl, I kept in mind to shade areas that would usually be in shadowâ€”the underside of the balls and the bottom of the bowlâ€”and highlighting areas that would be in lightâ€”the rim of the bowl and the top of the ball, enhancing the contours of the scuplture. I applied this technique to the clay sound amplifier, the studio project after this warmup piece.",
      image: "img/bowl.jpg",
    },
    {
      title: "Sketchbook",
      credit: "<i>Sketchbook</i>, Glae Alejo (September 2024 - January 2025). Mixed media, HLSS.",
      flavour: "A collection of thoughts",
      description: `This is the sketchbook I used throughout Grade 11 Visual Arts. I spent a lot of time drawing in this sketchbook, which is why I had to get a second one! The masking tape is so the two sketchbooks stay bound together. Below are my favourite sketches from this semester.`,
      image: "img/sketchbook.jpg",
      processGallery: [
        "img/sketchbook_process_1.jpg",
        "img/sketchbook_process_2.jpg",
        "img/sketchbook_process_3.jpg",
        "img/sketchbook_process_4.jpg",
        "img/sketchbook_process_5.jpg",
        "img/sketchbook_process_6.jpg",
      ],
      processGalleryCaptions: [
        "Observation drawing of a tree outside the school",
        "Little media exploration sketch of graphite shading",
        "Observation drawing of Zaid",
        "Observation drawing of my hand",
        "Artist inspiration drawing of Bosch's egg man",
        "Two imagination drawings: Head full of fruits; Dream home"
      ]
    },
    {
      title: "Painting of beabadoobee",
      credit: "<i>beabadoobee</i>, Glae Alejo (December 2024). Digital painting, Home.",
      flavour: "I'm a fan",
      description: `I painted beabadoobee because I love her music. I used a reference photo from her 2023 <i>This Is How Tomorrow Moves</i> album. My objective for this painting was to improve at my observation skills, specifically in capturing her facial proportions accurately. I also wanted to practice my digital painting technique, focusing on confidently placing brush strokes and colour accuracy. One thing I could improve on is the hair; there is little texture in the dark areas, so it blends into her clothing. I think it's the low quality of my reference photo which is to blame for this. Overall, I'm proud of the final result, especially her face, which I spent the most time on to capture her essence in its fullest.`,
      image: "img/beabadoobee.jpg",
    },
    {
      title: "Final Remarks",
      credit: "<i>Mount Pinatubo</i>, Glae Alejo (July 2024). Digital painting, Home.",
      flavour: "+ a digital painting of Mount Pinatubo",
      description: `The Museum Mutant painting stands out as my favorite project this year, marking a significant return to acrylic paintingâ€”my first serious engagement with the medium since Grade 8. The experience of channeling my emotions and experiences through various techniques like impasto and wet-in-wet brought me unexpected joy and artistic fulfillment. However, my journey through this year's projects wasn't without its challenges. The Triptych project initially presented the biggest hurdle, primarily due to creative blockage when faced with the theme "life as a teen." Breaking through this mental barrier required deep introspection, ultimately leading me to confront my most profound yet unspoken struggleâ€”gender identity. Despite the sensitivity of this topic, especially in 2025, I chose to embrace it as my subject matter. Ironically, this same challenging project became the artwork I'm most proud of, representing more than just technical skillâ€”it marks my first step toward authentic self-expression. The difficulty of creating a painting about gender dysphoria makes it all the more meaningful, serving as one of many small cracks in the metaphorical cell I've constructed around myself. Reflecting on the course structure, I particularly appreciated the collaborative elements in the Story Quilt project and the peer feedback component of the Triptych. I believe future grade 11 students would benefit from more opportunities for peer collaboration, perhaps through large-scale group projects like a shared canvas mural. My experience in this course has been overwhelmingly positive, validating my decision to enroll through MyBlueprint. As I conclude this Grade 11 portion of my portfolio, I look forward to what lies ahead. The best is yet to come! ðŸ‘‹`,
      image: "img/mount_pinatubo.png",
    }
  ],
};

const modal = document.getElementById('artwork-modal');
const closeButton = modal.querySelector('.close-button');

function openModal(title, credit, flavour, content, image, processImages, processGalleryCaptions) {
  if (!content || !image) return;
  const modalBody = modal.querySelector('.modal-body');
  modalBody.querySelector('.modal-text').innerHTML = content;
  const processGallery = modal.querySelector('.process-gallery');
  processGallery.innerHTML = '';
  if (processImages) {
    processImages.forEach((image, index) => {
      const img = document.createElement('img');
      img.src = image;
      img.alt = processGalleryCaptions?.[index] || `${title} process image`;
      img.dataset.caption = processGalleryCaptions?.[index] || '';
      img.loading = 'lazy';
      processGallery.appendChild(img);
    });
  }
  modal.querySelector('.modal-title').textContent = title;
  modal.querySelector('.modal-credit').textContent = flavour;

  const modalImage = modal.querySelector('.modal-image');
  const modalImg = document.createElement('img');
  modalImg.src = image;
  modalImg.dataset.caption = credit;
  modalImg.alt = title;
  modalImg.loading = 'lazy';
  modalImg.onload = () => {
    const aspectRatio = modalImg.width / modalImg.height;
    const modalContent = modal.querySelector('.modal-content');
    if (aspectRatio > 1.5) {
      modalContent.style.gridTemplateAreas = `
        "image"
        "info"
        "gallery"
      `;
      modalContent.style.gridTemplateColumns = '1fr';
      modalImage.style.gridColumn = '1';
      modalImage.style.gridGap = '0';
    } else {
      modalContent.style.gridTemplateColumns = '';
      modalImage.style.gridColumn = '';
      modalContent.style.gridTemplateAreas = "";
    }
  };
  modalImage.innerHTML = '';
  modalImage.appendChild(modalImg);
  setupProcessGalleryImageClicks();
  if (credit) {
    const figcaption = document.createElement('figcaption');
    figcaption.innerHTML = credit;
    modalImage.appendChild(figcaption);
  }

  document.documentElement.style.setProperty('--modal-bg-img', `url("/${image}")`);
  modal.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  modal.classList.remove('active');
  document.body.style.overflow = '';
}

function setupProcessGalleryImageClicks() {
  const processImages = document.querySelectorAll('.process-gallery img');
  const mainImage = document.querySelector('.modal-image img');
  
  mainImage.addEventListener('click', () => {
    const expandedView = document.createElement('div');
    expandedView.className = 'expanded-image';

    const figure = document.createElement('figure');
    
    const expandedImg = document.createElement('img');
    expandedImg.src = mainImage.src;
    expandedImg.alt = mainImage.alt;

    figure.appendChild(expandedImg);

    if (mainImage.dataset.caption) {
      const figcaption = document.createElement('figcaption');
      figcaption.innerHTML = mainImage.dataset.caption;
      figure.appendChild(figcaption);
    }
    expandedView.appendChild(figure);

    document.body.appendChild(expandedView);

    expandedView.addEventListener('click', () => {
      expandedView.remove();
    });
  });

  processImages.forEach(img => {
    img.addEventListener('click', (e) => {
      const expandedView = document.createElement('div');
      expandedView.className = 'expanded-image';
      
      const figure = document.createElement('figure');
      
      const expandedImg = document.createElement('img');
      expandedImg.src = e.target.src;
      expandedImg.alt = e.target.alt;
      
      figure.appendChild(expandedImg);
      
      if (e.target.dataset.caption) {
        const figcaption = document.createElement('figcaption');
        figcaption.textContent = e.target.dataset.caption;
        figure.appendChild(figcaption);
      }
      
      expandedView.appendChild(figure);
      document.body.appendChild(expandedView);
      
      expandedView.addEventListener('click', () => {
        expandedView.remove();
      });
    });
  });
}

closeButton.addEventListener('click', closeModal);

modal.addEventListener('click', (e) => {
  if (e.target === modal) closeModal();
});

document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && modal.classList.contains('active')) {
    closeModal();
  }
});
document.querySelectorAll('#artwork-gallery .gallery-item .button').forEach(button => {
  button.addEventListener('click', (e) => {
    e.preventDefault();
  });
});

document.querySelectorAll('#artwork-gallery .gallery-item').forEach(img => {
  img.addEventListener('click', (e) => {
    const title = img.querySelector('.button').textContent;
    const artworkData = galleryData.artwork.find(item => item.title === title);
    if (artworkData) {
      openModal(
        artworkData.title,
        artworkData.credit,
        artworkData.flavour,
        artworkData.description,
        artworkData.image,
        artworkData.processGallery,
        artworkData.processGalleryCaptions
      );
    }
  });
});