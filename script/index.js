const galleryData = {
  artwork: [
    {
      title: "Story Quilt",
      credit: "<i>The Lechon</i>, Glae Alejo (September 2024). Mixed media (oil pastel on paper, watercolour and ink on paper), HLSS.",
      flavour: "Filipino flavour",
      description: `For my story quilt, the centre panel artwork captures a cherished memory of preparing and eating lechon in the Philippines back in December 2016. I helped prepare and cook the pig with my family for dinner—it was the tastiest lechon I ever ate. This scene perfectly exemplifies the pillars of my Filipino culture—family and food. The composition demonstrates considerable strength through its complementary orange-blue colour scheme, which highlights the lechon as the focal point. The outer quilt pieces echo this colour scheme, creating visual harmony. The movement and rhythm of the oil pastel strokes further emphasize the cooked pig's presence, while my adherence to the rule of thirds (sky at the top, lechon in the middle, ashes at the bottom) reinforces the overall composition. Our decision to create the quilt outer pieces as a group, rather than individually, added a unique and collaborative dimension to the project. This approach allowed for greater variety in each quilt's appearance, as different people created each small patch. Had individuals made their own quilt patches, we would have lost that vital element of community that highlights the culture and individuality of the centrepiece. The collaborative nature of the outer patches ultimately strengthened my work by adding more visual interest.`,
      image: "img/story_quilt.jpg",
      processGallery: [
        "https://placehold.co/500x500",
        "https://placehold.co/750x500",
      ]
    },
    {
      title: "Hero Portrait", 
      credit: "<i>dad</i>, Glae Alejo (October 2024). Graphite on paper, HLSS.",
      flavour: "Goo goo gaa gaa",
      description: `For this portrait, I chose to draw my dad as a baby—initially because he requested it, but I soon discovered deeper connections within the image. When I held up a picture of myself as a baby next to his photo, our resemblance was striking (though my head was bigger). The contrast between his current somewhat rugged and worn-down appearance (despite still looking 30) and his pure, innocent look as a toddler fascinated me. There's also an interesting personality juxtaposition—my dad, who serves as my role model for discipline and respect, appears here displaying perhaps the exact opposite traits of a toddler. In capturing his likeness, I believe I achieved success, particularly in recreating that innocent, clueless gaze from the reference photo. I devoted considerable time to perfecting the facial expression, and I carefully managed my blending technique with the paper blending stump to replicate a toddler's smooth yet organic skin texture. My efforts were rewarded when I brought the drawing home—my dad was so proud! The face remains the element I'm most proud of, as I invested significant time refining the shading of features such as the planes of the face and the positioning of the eyes, nose, and mouth. However, if I were to improve anything, it would ironically also be the face. Looking back after some time, I notice slight proportion issues that I would address by spending more time establishing perfect facial landmarks through better guidelines and deeper observation during the sketch phase. While I'm satisfied with the entire piece, the face stands out to me in both positive and negative ways.`,
      image: "img/hero_portrait.jpg",
      processGallery: [
        "img/hero_portrait_process_1.jpg",
        "img/hero_portrait_process_2.jpg",
      ]
    },
    {
      title: "Triptych",
      credit: "<i>Beyond the veil</i>, Glae Alejo (November 2024). Watercolour on paper, HLSS.",
      flavour: "My true feelings",
      description: `In my triptych, I explored self-representation through three distinct elements. The person depicted is meant to be my idealized self: with long hair; eyes closed, yet deeply introspective of the mind's condition. The place element presents a surreal, dreamlike fantasy version of 'outside', intentionally unclear and disconnected from the red theatre curtains, positioning me as an audience member in the play of my own life. The final element—the thing—features a round, ruby gem with a cross shape underneath and an arm just out of reach, deliberately resembling ♀, the sign of Venus and a common female sex symbol. I arranged these pieces specifically in the order of place, person, and thing, maintaining a red motif throughout the curtain, hair, and ruby gem to symbolize passion and intense emotion. The brush strokes in the curtains and hair create a sense of movement, guiding viewers' eyes rightward across the triptych until they reach the back of my head. This flow experiences a deliberate interruption when an arm breaks through the cold, blue veil at the end, reaching for the precious gem representing my passion and identity. Regarding the technical execution, I'm pleased with my watercolour work. I carefully managed my values and avoided oversaturating the paper, learning from past experiences. Every color stroke was intentional, demonstrating my technical growth. However, if I could revisit this project, I would focus on making my message about gender dysphoria more accessible. Many viewers struggled to understand the intended meaning without explanation, which isn't ideal. I would return to the planning stage and incorporate viewer feedback to communicate these themes more effectively.`,
      image: "https://placehold.co/1000x500",
      processGallery: [
        "img/triptych_process_1.jpg",
        "img/triptych_process_2.jpg",
      ]
    },
    {
      title: "Sound Amplifier",
      credit: "Clay",
      flavour: "The GOAT",
      description: `I decided to create a goat for my clay sound amplifier. I thought it was a fitting animal for the type of music I listen to (alternative, indie, folk) and it is one of the animals I saw the most in the Philippines when I went there. To actually make it amplify sound, I had to modify one of the horns to work like the end of a trumpet: flared and hollow, connected to the also hollow head, which works like a resonator of a guitar to increase the volume further. The cell phone is supposed to be inserted in the back slot of the goat's head, under the horns. The phone does fit inside the sculpture, amplifying the sound aptly, but the case needs to be removed before doing so. My design incorporates an organic brown and white colour scheme matching the natural colouration of the goats I saw in the Philippines. When painting, I used a dry brush with less paint in order to simulate a fur texture, making the sculpture more realistic. I applied darker shades to areas in shadow and lighter tints to the areas in light to enhance the contours of the goat head. This is evident in the areas of white near the eye sockets simulating the fur texture in highlight areas and the use darker paint on the lower jaw to make it less flat. I preferred the sculpting portion of this project because I don't get a lot of opportunities outside of art class to create truly 3D art. I love the iterative process of sculpting by carving out features, adding texture and slip-and-scoring pieces onto what would become the finished product. While creating my goat, I actually felt connected to the clay because of the hands-on, intimate nature of the medium compared to 2D media. For other mediums like painting, there is less getting my hands dirty (unless I'm finger painting or smudging with my finger).`,
      image: "img/sound_amplifier.jpg",
      processGallery: [
        "img/sound_amplifier_process_1.jpg",
        "img/sound_amplifier_process_2.jpg",
      ]
    },
    {
      title: "Museum Mutant",
      credit: "Acrylic",
      flavour: "Need a therapist",
      description: `In approaching the Museum Mutant project, I chose option 2 to create a modernized interpretation of Edvard Munch's lithograph, 'The Brooch. Eva Mudocci'. This selection wasn't arbitrary—it emerged from a fascinating coincidence during my research into mental health artwork. While browsing the Wikipedia page for borderline personality disorder (BPD), I encountered this lesser-known Munch piece in the infobox. The revelation that this was created by the same artist behind The Scream sparked my curiosity, leading me to extensively research Munch's personal struggles with mental health, including possible BPD. This connection made the piece feel particularly appropriate for expressing both my artistic abilities and personal experiences through the lens of a historical master. The original composition struck me as more focused, introspective, and melancholic compared to Munch's other works, providing an excellent foundation for my modifications. In reimagining the piece, I chose to emphasize aspects of Munch's mental health that resonated with my own understanding—particularly the intense emotional expression and pervasive feelings of emptiness characteristic of BPD. While the original uses Eva Mudocci's flowing hair to draw attention to her face as the focal point, I subverted this by incorporating ghost-like faces swirling within her hair, creating a more chaotic composition that reflects the emotional turbulence common in BPD. Perhaps my most significant modification was the decision to glaze the subject's face with a white layer, creating an almost faceless appearance. This artistic choice directly represents the chronic feelings of emptiness often experienced by individuals with BPD, adding a deeply personal dimension to my interpretation of Munch's work.`,
      image: "img/museum_mutant.jpg",
      processGallery: [
        "img/museum_mutant_process_1.jpg",
        "img/museum_mutant_process_2.jpg",
      ]
    }
  ],
};

const modal = document.getElementById('artwork-modal');
const closeButton = modal.querySelector('.close-button');

function openModal(title, credit, flavour, content, image, processImages) {
  const modalBody = modal.querySelector('.modal-body');
  modalBody.querySelector('.modal-text').innerHTML = content;
  const processGallery = modal.querySelector('.process-gallery');
  processGallery.innerHTML = '';
  if (processImages) {
    processImages.forEach(image => {
      const img = document.createElement('img');
      img.src = image;
      img.alt = `${title} process image`;
      img.loading = 'lazy';
      processGallery.appendChild(img);
    });
  }
  modal.querySelector('.modal-title').textContent = title;
  modal.querySelector('.modal-credit').textContent = flavour;

  const modalImage = modal.querySelector('.modal-image');
  const modalImg = document.createElement('img');
  modalImg.src = image;
  modalImg.alt = title;
  modalImg.loading = 'lazy';
  modalImg.onload = () => {
    const aspectRatio = modalImg.width / modalImg.height;
    const modalContent = modal.querySelector('.modal-content');
    if (aspectRatio > 1.5) {
      modalContent.style.gridTemplateColumns = '1fr';
      modalContent.style.gridGap = '0';
      modalImage.style.gridColumn = '1';
      modalImage.style.order = '-1';
    } else {
      modalContent.style.gridTemplateColumns = '';
      modalContent.style.gridGap = '';
      modalImage.style.gridColumn = '';
      modalImage.style.order = '';
    }
  };
  const figcaption = document.createElement('figcaption');
  figcaption.innerHTML = credit;

  modalImage.innerHTML = '';

  modalImage.appendChild(modalImg);
  modalImage.appendChild(figcaption);

  document.documentElement.style.setProperty('--modal-bg-img', `url("/${image}")`);
  modal.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  modal.classList.remove('active');
  document.body.style.overflow = '';
}

// Close modal when clicking close button
closeButton.addEventListener('click', closeModal);

// Close modal when clicking outside
modal.addEventListener('click', (e) => {
  if (e.target === modal) closeModal();
});

// Close modal with Escape key
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape' && modal.classList.contains('active')) {
    closeModal();
  }
});

document.querySelectorAll('#artwork-gallery .gallery-item .button').forEach(button => {
  button.addEventListener('click', (e) => {
    e.preventDefault();
    const title = e.target.textContent;

    const artworkData = galleryData.artwork.find(item => item.title === title);
    if (artworkData) {
      openModal(
        artworkData.title,
        artworkData.credit,
        artworkData.flavour,
        artworkData.description,
        artworkData.image,
        artworkData.processGallery
      );
    }
  });
});